"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[805],{805:function(n,e,t){t.r(e),t.d(e,{default:function(){return N}});var r=t(2791),a=t(4165),i=t(5861),o=t(5705),c=t(6727),s=t(9434),l=function(n){return n.filter.value},u=function(n){return n.contacts.items},d=t(6895),m=t(208),f=function(){var n=(0,s.I0)(),e=(0,s.v9)(u),t=(0,s.v9)(l),a=(0,r.useCallback)((function(){n((0,m.yF)())}),[n]),i=e.filter((function(n){return n&&n.name.toLowerCase().includes(t.toLowerCase())}));return{contacts:e,filter:t,filteredContacts:i,showFilter:function(e){n((0,d.Tv)(e))},clearContactFilter:function(){n((0,d.Dg)())},addNewContact:function(e){var t=e.name,r=e.number;n((0,m.uK)({name:t,number:r}))},removeContact:function(e){n((0,m.GK)(e))},fetchAllContacts:a}},x=t(971),h=t(6151),p=t(4554),v=t(184),j=c.Ry().shape({name:c.Z_().min(2,"Too Short!").max(10,"Too Long!").required("Required"),number:c.Z_().min(2,"Too Short!").max(15,"Too Long!").required("Required")}),b={name:"",number:""},w=function(){var n=f(),e=n.addNewContact,t=n.contacts,r=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(r,i){var o,c;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i.resetForm,n.prev=1,c=r.name,!t.find((function(n){return n.name===c}))){n.next=6;break}return alert("".concat(c," is already in contacts list")),n.abrupt("return");case 6:e(r),o(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.error("Error while handling form submission:",n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h2",{children:"Add Contact"}),(0,v.jsx)(o.J9,{initialValues:b,validationSchema:j,onSubmit:r,children:(0,v.jsxs)(o.l0,{autoComplete:"off",children:[(0,v.jsx)(p.Z,{marginY:1,sx:{width:350},children:(0,v.jsx)(o.gN,{component:x.n,label:"Name*",type:"text",name:"name",size:"small",fullWidth:!0,autoFocus:!0})}),(0,v.jsx)(p.Z,{marginY:2,sx:{width:350},children:(0,v.jsx)(o.gN,{component:x.n,label:"Number*",type:"tel",name:"number",size:"small",fullWidth:!0})}),(0,v.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",size:"medium",sx:{mb:7},children:"Add contact"})]})})]})},C=t(22),Z=t(7225),g=t(890),y=function(n){var e=n.id,t=n.name,r=n.number,a=f().removeContact;return(0,v.jsx)(Z.Z,{children:(0,v.jsxs)(p.Z,{component:"div",sx:{display:{xs:"flex"},width:"100%",m:1},children:[(0,v.jsxs)(p.Z,{component:"div",sx:{display:{xs:"flex"},flexWrap:"wrap",flexGrow:1},children:[(0,v.jsx)(g.Z,{variant:"span",sx:{mr:4,flexGrow:1,textAlign:"left",fontWeight:"bold"},children:t}),(0,v.jsx)(g.Z,{variant:"span",sx:{mr:1},children:r})]}),(0,v.jsx)(C.Z,{sx:{color:"#000a",cursor:"pointer"},onClick:function(){return a(e)}})]})})},k=function(){var n=f().filteredContacts;return(0,v.jsx)(p.Z,{component:"div",sx:{width:"100%",maxWidth:350},children:(0,v.jsx)(Z.Z,{children:n.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,v.jsx)(y,{name:t,number:r,id:e},e)}))})})},W=t(6047),F=function(){var n=(0,s.I0)(),e=(0,s.v9)(l);return(0,v.jsx)(p.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:{width:"100%",maxWidth:350},children:(0,v.jsx)(W.Z,{id:"outlined-basic",label:"Find contacts by name",variant:"outlined",type:"text",size:"small",value:e,onChange:function(e){console.log("Typed value:",e.target.value),n((0,d.Tv)(e.target.value))},fullWidth:!0})})},T=t(1889),A=function(){var n=f(),e=n.contacts,t=n.fetchAllContacts;return(0,r.useEffect)((function(){t()}),[t]),(0,v.jsx)(T.ZP,{container:!0,justifyContent:"center",alignItems:"center",children:(0,v.jsxs)(p.Z,{component:"div",sx:{mt:1,width:"100%",maxWidth:350,textAlign:"center"},children:[(0,v.jsx)(w,{}),(0,v.jsx)("h2",{children:"Contacts"}),e&&0!==e.length&&(0,v.jsx)(F,{}),(0,v.jsx)(k,{})]})})},N=function(){return(0,v.jsx)("div",{children:(0,v.jsx)(A,{})})}}}]);
//# sourceMappingURL=805.f7651d08.chunk.js.map